import axios from 'axios';

const CISCO_SPARK_URL = [`https://`, document.location.host.split(`.`)[0], `.altocloud.com/api/cisco-spark`].join(``);
const GET_FREE_GUEST_ENDPOINT = `/guests/states/free`;

const ciscoGuestApi = axios.create({
  baseURL: CISCO_SPARK_URL
});

class SparkGuest {
  constructor(account) {
    this.account = account;
  }

  getFreeUser() {
    return ciscoGuestApi.get(GET_FREE_GUEST_ENDPOINT, {
      params: {
        account: this.account
      }
    }).then((response) => response.data);
  }
}

export default SparkGuest;
